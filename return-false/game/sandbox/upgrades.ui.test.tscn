[gd_scene load_steps=8 format=1]

[ext_resource path="res://assets/temp/progress-base-FPO.png" type="Texture" id=1]
[ext_resource path="res://assets/temp/progress-top-FPO.png" type="Texture" id=2]
[ext_resource path="res://assets/temp/progress-top2-FPO.png" type="Texture" id=3]
[ext_resource path="res://assets/temp/progress-top3-FPO.jpg" type="Texture" id=4]
[ext_resource path="res://assets/temp/progress-top4-FPO.png" type="Texture" id=5]

[sub_resource type="GDScript" id=1]

script/source = "\nextends Control\n\nvar pool = 12\n\nonready var pool_label = find_node(\"Label\")\n\nfunc add_point(skill):\n\tif pool > 0:\n\t\tskill.set_value(skill.get_value() + 1)\n\t\tpool = pool - 1\n\t\tpool_label.set_text(\"Chips remaining: \" + str(pool))\n\telse:\n\t\treturn\n\nfunc subtract_point(skill):\n\tif skill.get_value() > 0:\n\t\tskill.set_value(skill.get_value() - 1)\n\t\tpool = pool + 1\n\t\tpool_label.set_text(\"Chips remaining: \" + str(pool))\n\telse:\n\t\treturn\n\n\nfunc _ready():\n\tpool_label.set_text(\"Chips remaining: \" + str(pool))\n\t# Called every time the node is added to the scene.\n\t# Initialization here\n\tpass\n\n\n\nfunc handle_input_event(event, skill):\n\tif event.type == InputEvent.MOUSE_BUTTON \\\n\tand event.is_pressed() \\\n\tand !event.is_echo():\n\t\tif event.button_index == BUTTON_LEFT:\n\t\t\tadd_point(skill)\n\t\telse:\n\t\t\tsubtract_point(skill)"

[sub_resource type="GDScript" id=2]

script/source = "\nextends TextureProgress\n\n# member variables here, example:\n# var a=2\n# var b=\"textvar\"\n\nfunc _ready():\n\tvar Ctrl = get_parent().get_parent()\n\tconnect(\"input_event\", Ctrl, \"handle_input_event\", [self])\n\t# Called every time the node is added to the scene.\n\t# Initialization here\n\tpass\n\n\n"

[node name="Node2D" type="Node2D"]

[node name="Control" type="Control" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 40.0
margin/bottom = 40.0
script/script = SubResource( 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="Control"]

focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 40.0
margin/top = 40.0
margin/right = 40.0
margin/bottom = 40.0
alignment = 0

[node name="Label" type="Label" parent="Control/VBoxContainer"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 468.0
margin/bottom = 80.0
text = "Chips remaining:"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="TextureProgress" type="TextureProgress" parent="Control/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 18.0
margin/right = 468.0
margin/bottom = 90.0
range/min = 0.0
range/max = 5.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = false
texture/under = ExtResource( 1 )
texture/over = null
texture/progress = ExtResource( 2 )
radial_fill/fill_degrees = 360.0
radial_fill/center_offset = Vector2( 0, 0 )
script/script = SubResource( 2 )

[node name="TextureProgress1" type="TextureProgress" parent="Control/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 81.0
margin/right = 468.0
margin/bottom = 141.0
range/min = 0.0
range/max = 5.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = false
texture/under = ExtResource( 1 )
texture/over = null
texture/progress = ExtResource( 3 )
radial_fill/fill_degrees = 360.0
radial_fill/center_offset = Vector2( 0, 0 )
script/script = SubResource( 2 )

[node name="TextureProgress2" type="TextureProgress" parent="Control/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 145.0
margin/right = 468.0
margin/bottom = 205.0
range/min = 0.0
range/max = 5.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = false
texture/under = ExtResource( 1 )
texture/over = null
texture/progress = ExtResource( 4 )
radial_fill/fill_degrees = 360.0
radial_fill/center_offset = Vector2( 0, 0 )
script/script = SubResource( 2 )

[node name="TextureProgress3" type="TextureProgress" parent="Control/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 209.0
margin/right = 468.0
margin/bottom = 269.0
range/min = 0.0
range/max = 5.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = false
texture/under = ExtResource( 1 )
texture/over = null
texture/progress = ExtResource( 5 )
radial_fill/fill_degrees = 360.0
radial_fill/center_offset = Vector2( 0, 0 )
script/script = SubResource( 2 )


